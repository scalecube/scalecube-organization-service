<?xml version="1.0" encoding="UTF-8"?>
<Configuration>

  <Appenders>
    <RollingFile name="FILE" fileName="logs/server.log" filePattern="logs/server-%i.log">
      <JSONLayout compact="true" eventEol="true" properties="true" stacktraceAsString="true">
        <KeyValuePair key="date" value="$${date:yyyy-MM-dd'T'HH:mm:ss.SSSXXX}"/>
        <KeyValuePair key="service" value="organization-service"/>
        <KeyValuePair key="ddsource" value="organization-service"/>
        <KeyValuePair key="ddtags" value="${env:TAGS}"/>
        <KeyValuePair key="host" value="${env:NODENAME}"/>
      </JSONLayout>
      <Policies>
        <OnStartupTriggeringPolicy/>
        <SizeBasedTriggeringPolicy size="100 MB"/>
      </Policies>
    </RollingFile>
  </Appenders>

  <Loggers>
    <Logger name="io.scalecube.organization" level="${env:orgLogLevel:-DEBUG}"/>
    <Root level="${env:logLevel:-WARN}">
      <AppenderRef ref="FILE"/>
    </Root>
  </Loggers>

</Configuration>
